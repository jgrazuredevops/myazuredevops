(this.webpackJsonpdevops=this.webpackJsonpdevops||[]).push([[0],{112:function(e,t,n){},115:function(e,t,n){e.exports={Loader:"Spinner_Loader__1twK-",load2:"Spinner_load2__2gkgc"}},123:function(e,t,n){},124:function(e,t,n){e.exports={App:"App_App__16ZpL",Appheader:"App_Appheader__2tQho",Applink:"App_Applink__2yhF-"}},14:function(e,t,n){e.exports={grid:"WorkItemsTable_grid__1yx0O",header:"WorkItemsTable_header__1VEMn",titleicon:"WorkItemsTable_titleicon__2ie71",assignto:"WorkItemsTable_assignto__3T5bo",avatar:"WorkItemsTable_avatar__3_wkb",bulle:"WorkItemsTable_bulle__2G2AD",cellcenter:"WorkItemsTable_cellcenter__2URhq",tag:"WorkItemsTable_tag__3SnHe",margegauche:"WorkItemsTable_margegauche__B9G_I",textW:"WorkItemsTable_textW__154Fi"}},174:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"iconplus",(function(){return ne})),n.d(c,"iconarrow",(function(){return ce})),n.d(c,"icontournevis",(function(){return re})),n.d(c,"iconimport",(function(){return ie})),n.d(c,"iconbug",(function(){return se})),n.d(c,"iconepic",(function(){return oe})),n.d(c,"iconfeature",(function(){return ae})),n.d(c,"iconproductitem",(function(){return le})),n.d(c,"iconsupport",(function(){return de})),n.d(c,"icontask",(function(){return ue})),n.d(c,"iconsettings",(function(){return je})),n.d(c,"iconfilter",(function(){return be})),n.d(c,"iconbigscreen",(function(){return me})),n.d(c,"iconcheckboxempty",(function(){return Oe})),n.d(c,"iconcheckboxfull",(function(){return xe}));var r=n(2),i=n.n(r),s=n(57),o=n.n(s),a=(n(123),n(124),n(7)),l=n(73),d=n.n(l),u=n(30),j=n.n(u),b=n(23),m=n(74),O=n.n(m),x=n(1),h=function(e){return Object(x.jsxs)(b.b,{className:O.a.link,to:e.to,children:[e.icon," ",Object(x.jsx)("span",{className:O.a.title,children:e.children})]})},p=n(31),f=n.n(p),v=function(e){var t=null,n=[],c=e.title;return e.open&&(n.push(f.a.active),c=Object(x.jsx)("strong",{children:c}),t=e.children.map((function(e,t){return Object(x.jsx)("li",{className:0===t?f.a.itemactive:null,children:e})})),t=Object(x.jsx)("ul",{className:f.a.navlist,children:t})),e.shortsidebar&&n.push(f.a.spacebtw),console.log(n),Object(x.jsxs)("div",{className:n.join(" "),children:[Object(x.jsxs)("div",{className:e.shortsidebar?f.a.headermini:f.a.header,onClick:function(){return e.actived(e.title)},children:[e.icon," ",e.shortsidebar?null:Object(x.jsx)("span",{className:f.a.title,children:c})]}),e.shortsidebar?null:t]})},g=n(13),k=n(4),y=n(34),_=(n(56),Object(x.jsx)(g.e,{color:"blue",size:"2em",style:{verticalAlign:"middle"}})),w=Object(x.jsx)(g.d,{color:"green",size:"2em",style:{verticalAlign:"middle"}}),T=Object(x.jsx)(g.j,{color:"orange",size:"2em",style:{verticalAlign:"middle"}}),I=Object(x.jsx)(g.c,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),N=Object(x.jsx)(g.f,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),E=Object(x.jsx)(g.g,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),S=Object(x.jsx)(g.h,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),A=Object(x.jsx)(g.i,{color:"white",size:"1.25em",style:{verticalAlign:"middle",fontWeight:"100"}}),C=Object(x.jsx)(g.k,{color:"white",size:"1.25em",style:{verticalAlign:"middle",fontWeight:"100"}}),P=function(e){var t=e.bigSidebar,n=Object(r.useState)("Overview"),c=Object(a.a)(n,2),i=c[0],s=c[1],o=function(e){return s(e)},l=Object(x.jsx)(g.a,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),d=null;return t||(l=Object(x.jsx)(g.b,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),d=j.a.short),Object(x.jsxs)("div",{className:"".concat(j.a.sidebar," ").concat(d),children:[Object(x.jsxs)("div",{className:j.a.sidebartop,children:[Object(x.jsxs)("div",{className:j.a.sidebarheader,children:[_,t&&Object(x.jsx)("span",{style:{margin:"0 .5rem"},children:"My Project"})]}),Object(x.jsx)(y.a,{style:{maxHeight:"67vh"},children:Object(x.jsxs)("nav",{className:j.a.nav,style:t?{"overflow-y":"hidden"}:null,children:[Object(x.jsxs)(v,{shortsidebar:!t,icon:_,title:"Overview",open:"Overview"===i,actived:o,children:[Object(x.jsx)(h,{icon:N,to:"/notdev",children:"Summary"}),Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Dashboards"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Wiki"})]}),Object(x.jsxs)(v,{shortsidebar:!t,icon:w,title:"Boards",open:"Boards"===i,actived:o,children:[Object(x.jsx)(h,{icon:N,to:"/",children:"Work items"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Boards"}),Object(x.jsx)(h,{icon:A,to:"/notdev",children:"Backlogs"}),Object(x.jsx)(h,{icon:N,to:"/sprints",children:"Sprints"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Queries"}),Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Estimate"})]}),Object(x.jsxs)(v,{shortsidebar:!t,icon:T,title:"Repos",open:"Repos"===i,actived:o,children:[Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Files"}),Object(x.jsx)(h,{icon:A,to:"/notdev",children:"Commits"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Pushes"}),Object(x.jsx)(h,{icon:A,to:"/notdev",children:"Branches"}),Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Tags"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Pull requests"})]}),Object(x.jsxs)(v,{shortsidebar:!t,icon:I,title:"Pipelines",open:"Pipelines"===i,actived:o,children:[Object(x.jsx)(h,{icon:N,to:"/notdev",children:"Pipelines"}),Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Environments"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Releases"}),Object(x.jsx)(h,{icon:A,to:"/notdev",children:"Library"}),Object(x.jsx)(h,{icon:S,to:"/notdev",children:"Task groups"}),Object(x.jsx)(h,{icon:E,to:"/notdev",children:"Deployment groups"})]})]})})]}),Object(x.jsxs)("div",{class:j.a.containerSettings,style:{justifyContent:t?"space-between":"center"},children:[t?Object(x.jsx)(h,{icon:C,to:"/backlog",children:"Project settings"}):null,Object(x.jsx)("div",{className:j.a.btn,onClick:e.toggleMenu,children:l})]})]})},B=n(50),R=n.n(B),W=function(e){var t=R.a.logomin;e.bigSidebar&&(t=R.a.logo);var n=Object(x.jsx)(g.f,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}});return Object(x.jsxs)("header",{className:R.a.header,children:[Object(x.jsx)("h3",{className:t,children:e.bigSidebar?"Azure Devops":n}),Object(x.jsxs)("ul",{className:R.a.breadcrumb,children:[Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",children:"MyAzureDevops"})}),Object(x.jsx)("li",{children:"/"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",children:"Boards"})}),Object(x.jsx)("li",{children:"/"}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#",children:"Work items"})})]})]})},U=function(e){var t=Object(r.useState)(!0),n=Object(a.a)(t,2),c=n[0],i=n[1];return[Object(x.jsx)(W,{bigSidebar:c}),Object(x.jsxs)("div",{className:d.a.page,style:{border:"0px solid orangered",flexGrow:1,overflow:"hidden"},children:[Object(x.jsx)(P,{bigSidebar:c,toggleMenu:function(e){return i((function(e){return!e}))}}),Object(x.jsx)("main",{className:d.a.main,children:e.children})]}),Object(x.jsx)("div",{style:{backgroundColor:"red",height:"40px",display:"none"},children:Object(x.jsx)("h2",{children:"Ceci est le footer de test "})})]},D=n(6),F=n(12),z=n(51),L=n(118),M=[{id:1,surname:"John Doe",email:"johndoe@free.fr",color:"#001e51"},{id:2,surname:"Paul Boo",email:"paul.boo@azure.com",color:"#027d00"},{id:3,surname:"Stefanie Toute",email:"stefietoute@yahoo.com",color:"#5c2893"}],K=n(9),G=n.n(K),J=n(14),V=n.n(J),H="https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app",q={BUG:{key:"bug",text:"Bug"},EPIC:{key:"epic",text:"Epic"},FEATURE:{key:"feature",text:"Feature"},PRODUCTBACKLOGITEM:{key:"productitem",text:"Product Backlog Item"},SUPPORT:{key:"support",text:"Support"},TASK:{key:"task",text:"Task"}},Q={key:"investigation",text:"Investigation"},Y={key:"new",text:"New"},X={key:"pending",text:"Pending"},Z=function(e){switch(e){case"committed":case"in progress":return"#007acb";case"pending":return"#f48b1f";default:return"#b1b1b1"}},$=function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()})).join("")},ee=function(e){var t=[{id:3,surname:"Stefanie Toute",email:"stefietoute@yahoo.com",color:"#5c2893"},{id:1,surname:"John Doe",email:"johndoe@free.fr",color:"#001e51"},{id:2,surname:"Paul Boo",email:"paul.boo@azure.com",color:"#027d00"}].filter((function(t){return t.id===+e}));return 1===t.length?t[0]:{}},te=n(8),ne=Object(x.jsx)(te.n,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),ce=Object(x.jsx)(te.b,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),re=Object(x.jsx)(te.j,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),ie=Object(x.jsx)(te.k,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),se=Object(x.jsx)(te.k,{color:"#B12A3B",size:"1em",style:{verticalAlign:"middle"}}),oe=Object(x.jsx)(te.f,{color:"#FF7B00",size:"1em",style:{verticalAlign:"middle"}}),ae=Object(x.jsx)(te.p,{color:"#773B93",size:"1em",style:{verticalAlign:"middle"}}),le=Object(x.jsx)(te.o,{color:"#009CCC",size:"1em",style:{verticalAlign:"middle"}}),de=Object(x.jsx)(te.m,{color:"#51399F",size:"1em",style:{verticalAlign:"middle"}}),ue=Object(x.jsx)(te.l,{color:"#F2CB1D",size:"1em",style:{verticalAlign:"middle"}}),je=Object(x.jsx)(te.i,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),be=Object(x.jsx)(te.h,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),me=Object(x.jsx)(te.c,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),Oe=Object(x.jsx)(te.a,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle",marginRight:"14px"}}),xe=Object(x.jsx)(te.d,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle",marginRight:"14px"}}),he=n(3),pe=n.n(he),fe=n(11),ve=function(e){return{type:"INIT_WORKITEM",workitems:e}},ge=function(e){return{type:"ADD_WORKITEM",workitem:e}},ke=function(e){return{type:"UPD_WORKITEM",workitem:e}},ye=function(e){return{type:"DELETE_WORKITEM",name:e}},_e=function(e){return function(){var t=Object(fe.a)(pe.a.mark((function t(n){var c,r,i;return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),t.prev=1,t.next=4,fetch("".concat(H,"/workitem.json"),{method:"GET"});case 4:return c=t.sent,t.next=7,c.json();case 7:r=t.sent,(i=Object.keys(r).map((function(e){return Object(k.a)(Object(k.a)({},r[e]),{},{name:e})}))).sort((function(e,t){return t.updatedAt-e.updatedAt})),n(ve(i)),e(!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),console.log("erreur="+t.t0),n(ve([])),e(!1);case 19:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()},we=n(116),Te=n(115),Ie=n.n(Te),Ne=function(){return Object(x.jsx)("div",{className:Ie.a.Loader,children:"Loading..."})},Ee=Object(F.b)(null,(function(e){return{onWorkItemDeleted:function(t){return e(ye(t))}}}))((function(e){var t=Object(F.c)(),n=Object(r.useState)(!1),i=Object(a.a)(n,2),s=i[0],o=i[1];Object(r.useEffect)((function(){console.log("useEffect 1"),t(_e(o))}),[]);var l=Object(F.d)((function(e){return e.workItem.workitems})),d=function(e){console.log("to delete:"+e),t(function(e){return function(){var t=Object(fe.a)(pe.a.mark((function t(n){return pe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("ready ?"),t.next=4,fetch("".concat(H,"/workitem/").concat(e,".json"),{method:"DELETE"});case 4:200===t.sent.status&&n(ye(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("erreur="+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};console.log("EEEE",l);var u;te.g;if(s)u=Object(x.jsx)(Ne,{});else{var j=l.map((function(t){var n=null;t.comments&&t.comments.length>0&&(n=[Object(x.jsx)(te.g,{}),Object(x.jsx)("span",{className:V.a.margegauche,children:t.comments.length},t.comments.length)]);var r="icon"+t.type;return[Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"button",class:"btn small",value:"Delete",onClick:function(){return d(t.name)}})}),Object(x.jsx)("div",{children:t.id}),Object(x.jsxs)("div",{className:V.a.titleicon,children:[c[r]," ",Object(x.jsx)(we.NavLink,{to:"editwi/".concat(t.name),className:V.a.textW,children:t.title})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:V.a.avatar,style:{backgroundColor:t.assignto?t.assignto.color:"#FFF"},children:t.assignto&&t.assignto.surname&&$(t.assignto.surname)}),t.assignto&&t.assignto.surname]}),Object(x.jsxs)("div",{className:V.a.cellcenter,children:[Object(x.jsx)("div",{className:V.a.bulle,style:{backgroundColor:Z(t.state)}}),t.state&&t.state.charAt(0).toUpperCase()+t.state.slice(1)]}),Object(x.jsx)("div",{children:t.tags&&t.tags.map((function(e,t){return Object(x.jsx)("span",{className:V.a.tag,children:e},t)}))}),Object(x.jsx)("div",{className:V.a.cellcenter,onClick:function(){return e.onWorkItemDeleted(t.id)},children:n})]}));u=Object(x.jsx)(y.a,{style:{maxHeight:"70vh",width:"100%"},children:Object(x.jsxs)("div",{className:V.a.grid,children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{className:V.a.header,children:"ID"}),Object(x.jsx)("div",{className:V.a.header,children:"Title"}),Object(x.jsx)("div",{className:V.a.header,children:"Assign to"}),Object(x.jsx)("div",{className:V.a.header,children:"State"}),Object(x.jsx)("div",{className:V.a.header,children:"Tags"}),Object(x.jsx)("div",{className:V.a.header,children:"Comments"}),j]})})}return u})),Se=n(27),Ae=n(49),Ce=n.n(Ae),Pe=Object(F.b)((function(e){return{isButtonOpened:e.workItem.buttonsopened}}),(function(e){return{onButtonOpened:function(t){return e(function(e){return{type:"OPEN_BUTTON",name:e}}(t))}}}))((function(e){var t=null,n=null;return e.isButtonOpened.includes(e.name)&&(t=Object(x.jsx)("div",{className:Ce.a.children,children:e.children})),e.label&&(n=[Object(x.jsxs)("span",{children:[e.label,e.isButtonOpened.includes(e.name)]}),e.children?Object(x.jsx)(te.e,{color:"grey",size:"1.25em",style:{verticalAlign:"middle"}}):null,t]),Object(x.jsxs)("div",{className:"small"===e.type?Ce.a.smallbutton:Ce.a.button,onClick:e.onClickEvent?function(){return e.onClickEvent((function(e){return!e}))}:function(){return e.onButtonOpened(e.name)},children:[e.icon?e.icon:null,n]})})),Be=function(e){return Object(x.jsx)("div",{style:{display:"flex",width:"100%",height:"40px",backgroundColor:"#3b3a39",borderRadius:"5px",margin:".75rem .5rem"},children:e.children})},Re=n(35),We=n.n(Re),Ue=Object(F.b)((function(e){return{filtertypes:e.workItem.filtertype,filterusers:e.workItem.filteruser}}),(function(e){return{onWorkItemAdded:function(t){return e(ge(t))},onWorkItemFilterType:function(t){return e(function(e){return{type:"FILTERTYPE_WORKITEM",itemtype:e}}(t))},onWorkItemFilterUser:function(t){return e(function(e){return{type:"FILTERUSER_WORKITEM",itemuser:e}}(t))}}}))((function(e){Object(F.c)();var t=Object(r.useState)(!1),n=Object(a.a)(t,2),i=n[0],s=n[1],o=new Map;o.set(q.BUG.key,q.BUG.text),o.set(q.EPIC.key,q.EPIC.text),o.set(q.FEATURE.key,q.FEATURE.text),o.set(q.PRODUCTBACKLOGITEM.key,q.PRODUCTBACKLOGITEM.text),o.set(q.SUPPORT.key,q.SUPPORT.text),o.set(q.TASK.key,q.TASK.text);var l,d=[],u=Object(Se.a)(o.keys());try{var j=function(){var t=l.value;d.push(Object(x.jsxs)("div",{onClick:function(n){n.stopPropagation(),e.onWorkItemFilterType(t)},children:[e.filtertypes.includes(t)?xe:Oe,"  ",c["icon".concat(t)]," ",Object(x.jsx)("span",{children:o.get(t)})]}))};for(u.s();!(l=u.n()).done;)j()}catch(m){u.e(m)}finally{u.f()}return[Object(x.jsxs)("div",{style:{display:"flex",zIndex:100,justifyContent:"space-between",width:"100%",paddingBottom:"10px",borderBottom:"1px solid #313130"},children:[Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsxs)(Pe,{icon:ne,label:"New Work Item",name:"btnNewWorkItem",children:[Object(x.jsxs)(b.b,{to:"newwi/bug",children:[se," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.BUG.text})]}),Object(x.jsxs)(b.b,{to:"newwi/epic",children:[oe," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.EPIC.text})]}),Object(x.jsxs)(b.b,{to:"newwi/feature",children:[ae," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.FEATURE.text})]}),Object(x.jsxs)(b.b,{to:"newwi/productitem",children:[le," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.PRODUCTBACKLOGITEM.text})]}),Object(x.jsxs)(b.b,{to:"newwi/support",children:[de," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.SUPPORT.text})]}),Object(x.jsxs)(b.b,{to:"newwi/task",children:[ue," ",Object(x.jsx)("span",{className:We.a.linkItem,children:q.TASK.text})]})]}),Object(x.jsx)(Pe,{icon:ce,label:"Open in Queries",onClickEvent:function(){return alert("Non fonctionnel => seul New Work Item fonctionne")}}),Object(x.jsx)(Pe,{icon:re,label:"Column Options",onClickEvent:function(){return alert("Non fonctionnel => seul New Work Item fonctionne")}}),Object(x.jsx)(Pe,{icon:ie,label:"Import Work Items",onClickEvent:function(){return alert("Non fonctionnel => seul New Work Item fonctionne")}})]}),Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)(Pe,{type:"small",icon:je,onClickEvent:function(){return alert("Non fonctionnel, seul le bouton filtre fonctionne")}}),Object(x.jsx)(Pe,{type:"small",icon:be,onClickEvent:s}),Object(x.jsx)(Pe,{type:"small",icon:me,onClickEvent:function(){return alert("Non fonctionnel, seul le bouton filtre fonctionne")}})]})]}),i?Object(x.jsxs)(Be,{children:[Object(x.jsx)(Pe,{label:"Types",name:"btnFilterType",children:d}),Object(x.jsx)(Pe,{label:"Assign To",name:"btnFilterAssignTo",children:[{id:2,surname:"Paul Boo",color:"#027d00"},{id:3,surname:"John Fer",color:"#001e51"}].map((function(t){return Object(x.jsxs)("div",{onClick:function(n){n.stopPropagation(),e.onWorkItemFilterUser(t.id)},children:[e.filterusers.includes(t.id)?xe:Oe," ",se," ",Object(x.jsxs)("span",{children:[t.surname," (non fonctionnel)"]})]})}))}),Object(x.jsx)(Pe,{label:"States",name:"btnFilterState"}),Object(x.jsx)(Pe,{label:"Tags",name:"btnFilterTag"})]}):null]})),De=function(e){return Object(x.jsxs)("div",{className:G.a.table,children:[Object(x.jsx)("h4",{children:"Liste des WorkItems"}),Object(x.jsx)(Ue,{}),Object(x.jsx)(Ee,{})]})},Fe=n(117),ze=function(e){var t,n=Object(Fe.a)({mode:"all",reValidateMode:"onBlur"}),c=n.register,i=n.handleSubmit,s=(n.watch,n.formState.errors),o=n.setValue,l=Object(D.useParams)(),d=l.name,u=l.type,j=function(){var e=Object(fe.a)(pe.a.mark((function e(t){var n,c,r,i,s;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[{id:1,surname:"John Doe",email:"johndoe@free.fr",color:"#001e51"}],t.userid&&(n=M.filter((function(e){return e.id===+t.userid}))),c={title:t.title,type:t.type,description:t.description,assignto:n[0],state:t.state,tags:[],comments:[],updatedAt:Date.now()},r="".concat(H,"/workitem/").concat(d,".json"),i={method:"PUT",body:JSON.stringify(c)},u&&(r="".concat(H,"/workitem.json"),i={method:"POST",body:JSON.stringify(c)}),e.next=9,fetch(r,i);case 9:return s=e.sent,e.next=12,s.json();case 12:e.sent,y(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("erreur="+e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),b={title:"",description:"",type:""},m=Object(r.useState)(b),O=Object(a.a)(m,2),h=O[0],p=O[1],f=Object(r.useState)(!1),v=Object(a.a)(f,2),g=v[0],y=v[1],_=Object(r.useState)(!1),w=Object(a.a)(_,2),T=w[0],I=w[1];return Object(r.useEffect)(Object(fe.a)(pe.a.mark((function e(){var t;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u||!Object.keys(q).map((function(e){return e.key})).includes(u)){e.next=5;break}o("type",u),p(b),e.next=26;break;case 5:return e.prev=5,I(!0),e.next=9,fetch("".concat(H,"/workitem/").concat(d,".json"),{method:"GET"});case 9:return t=e.sent,e.next=12,t.json();case 12:h=e.sent,o("title",h.title),o("type",h.type),o("state",h.state),o("userid",h.assignto.id),p(h),I(!1),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.log("erreur="+e.t0),p({title:"error loading",type:""}),I(!1);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),[]),g&&(t=Object(x.jsx)(D.Redirect,{to:"/"})),Object(x.jsxs)("div",{className:G.a.table,style:{display:"flex",flexDirection:"column"},children:[t,T?Object(x.jsx)(Ne,{}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{children:[0===h.title.length?"Cr\xe9ation":"Edition"," d'un WorkItem ",d]}),Object(x.jsxs)("form",{onSubmit:i(j),children:[Object(x.jsxs)("div",{class:G.a.frmLine,children:[Object(x.jsx)("div",{class:G.a.frmTitle,children:"Titre"}),Object(x.jsx)("div",{class:G.a.frmInput,children:Object(x.jsx)("input",Object(k.a)({class:"input-box",defaultValue:h.title},c("title",{required:!0})))})]}),Object(x.jsxs)("div",{class:G.a.frmLine,children:[Object(x.jsx)("div",{class:G.a.frmTitle,children:"Description"}),Object(x.jsx)("div",{class:G.a.frmInput,children:Object(x.jsx)("input",Object(k.a)({class:"input-box",defaultValue:h.description},c("description",{required:!1})))})]}),Object(x.jsxs)("div",{class:G.a.frmLine,children:[Object(x.jsx)("div",{class:G.a.frmTitle,children:"Type"}),Object(x.jsx)("div",{class:G.a.frmInput,children:Object(x.jsxs)("select",Object(k.a)(Object(k.a)({class:"select-box"},c("type")),{},{children:[Object(x.jsx)("option",{value:q.BUG.key,children:q.BUG.text}),Object(x.jsx)("option",{value:q.EPIC.key,children:q.EPIC.text}),Object(x.jsx)("option",{value:q.FEATURE.key,children:q.FEATURE.text}),Object(x.jsx)("option",{value:q.PRODUCTBACKLOGITEM.key,children:q.PRODUCTBACKLOGITEM.text}),Object(x.jsx)("option",{value:q.SUPPORT.key,children:q.SUPPORT.text}),Object(x.jsx)("option",{value:q.TASK.key,children:q.TASK.text})]}))})]}),Object(x.jsxs)("div",{class:G.a.frmLine,children:[Object(x.jsx)("div",{class:G.a.frmTitle,children:"State"}),Object(x.jsx)("div",{class:G.a.frmInput,children:Object(x.jsxs)("select",Object(k.a)(Object(k.a)({class:"select-box"},c("state")),{},{children:[Object(x.jsx)("option",{value:Q.key,children:Q.text}),Object(x.jsx)("option",{value:Y.key,children:Y.text}),Object(x.jsx)("option",{value:X.key,children:X.text})]}))})]}),Object(x.jsxs)("div",{class:G.a.frmLine,children:[Object(x.jsx)("div",{class:G.a.frmTitle,children:"Utilisateur"}),Object(x.jsx)("div",{class:G.a.frmInput,children:Object(x.jsx)("select",Object(k.a)(Object(k.a)({class:"select-box"},c("userid")),{},{children:M.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.surname})}))}))})]}),s.title&&Object(x.jsx)("span",{children:"Ce champ est requis"}),Object(x.jsx)("div",{class:G.a.frmLine,children:Object(x.jsx)("input",{type:"submit",class:"btn"})})]})]})]})},Le=function(e){return Object(x.jsxs)("div",{style:{margin:"1rem"},children:["Page non fonctionnelle",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),'Seules les pages "Work items" et "Sprints" de la cat\xe9gorie "Boards" sont fonctionnelles']})},Me=(n(112),function(e){var t=e.workitem,n=e.mode,c=e.addNewTask,i=t.name,s=t.title,o=t.type,a=t.state,l=t.assignto,d=void 0===l?{}:l,u=t.parentId,j=["box","box-".concat(o)].join(" "),b=(Object(F.d)((function(e){return e.workItem.workitems})),Object(F.c)()),m=0;"id"in d&&(m=d.id);var O=Object(r.useRef)(s),h=Object(r.useRef)(m),p=Object(r.useRef)(a),f=function(){"new"===n?(c(""),b(function(e){var t=e.title,n=e.assignto,c=e.state,r=e.type,i=e.parentId;return function(){var e=Object(fe.a)(pe.a.mark((function e(s){var o,a,l;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("ready ?"),o={title:t,type:r,assignto:n,state:c,tags:[],comments:[],parentId:i},e.next=5,fetch("".concat(H,"/workitem.json"),{method:"POST",body:JSON.stringify(o)});case 5:return a=e.sent,e.next=8,a.json();case 8:l=e.sent,o.name=l.name,s(ge(o)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("erreur="+e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()}({title:O.current,parentId:u,assignto:ee(h.current),state:p.current,type:"task"}))):b(function(e){var t=e.name,n=e.title,c=e.assignto,r=e.state,i=e.type,s=e.parentId;return function(){var e=Object(fe.a)(pe.a.mark((function e(o){var a,l;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update ?"),a={name:t,title:n,type:i,assignto:c,state:r,tags:[],comments:[],parentId:s},e.next=5,fetch("".concat(H,"/workitem/").concat(t,".json"),{method:"PUT",body:JSON.stringify(a)});case 5:return l=e.sent,e.next=8,l.json();case 8:e.sent,o(ke(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("erreur="+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}({name:i,title:O.current,parentId:u,assignto:ee(h.current),state:p.current,type:"task"}))},v=s,g=a,k=d&&d.surname?d.surname:"";return"new"!==n&&"edit"!==n||(v=Object(x.jsx)("input",{onBlur:function(e){console.log("change title!",e.target.value),O.current=e.target.value,f()},type:"text",name:"title",placeholder:"Please set a title",className:"input-box",defaultValue:"edit"===n?s:"new"}),g=Object(x.jsxs)("select",{value:a,onChange:function(e){console.log("change state!",e.target.value),p.current=e.target.value,f()},className:"select-box",name:"state",children:[Object(x.jsx)("option",{value:"to do",children:"To Do"}),Object(x.jsx)("option",{value:"in progress",children:"In Progress"}),Object(x.jsx)("option",{value:"done",children:"Done"})]}),k=Object(x.jsxs)("select",{value:m,onChange:function(e){console.log("change user!",e.target.value),h.current=e.target.value,f()},className:"select-box",name:"assignTo",children:[Object(x.jsx)("option",{value:""}),Object(x.jsx)("option",{value:"3",children:"Stefanie Toute"}),Object(x.jsx)("option",{value:"1",children:"John Doe"}),Object(x.jsx)("option",{value:"2",children:"Paul Boo"})]})),Object(r.useEffect)((function(){console.log("Box au 1er chargement")}),[]),Object(x.jsxs)("div",{className:j,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{})," ",v]}),Object(x.jsxs)("div",{className:"user_container",children:[Object(x.jsx)("div",{className:"avatar",style:{backgroundColor:d?d.color:"#FFF"},children:d&&d.surname&&$(d.surname)}),k]}),Object(x.jsxs)("div",{className:"state_container",children:["State",Object(x.jsxs)("div",{className:"bulle_container",children:[Object(x.jsx)("div",{className:"bulle",style:{backgroundColor:Z(a)}}),g]})]})]})}),Ke=function(e){var t=e.parentId,n=e.addNewTask;return Object(x.jsx)("button",{className:"btn-add-task",onClick:function(){return n(t)},children:"+"})},Ge=function(){var e=Object(F.c)(),t=Object(F.d)((function(e){return e.workItem.workitems})),n={title:"",type:"task",assignto:{surname:""},state:"to do"},c=Object(r.useState)(""),i=Object(a.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(a.a)(l,2),u=(d[0],d[1]);console.log(s);var j=t.filter((function(e){return!!e.parentId})),b=t.map((function(e){if(e.parentId)return[];var t=null;s===e.name&&(t=Object(x.jsx)(Me,{workitem:Object(k.a)(Object(k.a)({},n),{},{parentId:e.name}),mode:"new",addNewTask:o}));var c=j.filter((function(t){return t.parentId===e.name&&"to do"==t.state})),r=j.filter((function(t){return t.parentId===e.name&&"in progress"==t.state})),i=j.filter((function(t){return t.parentId===e.name&&"done"==t.state}));return console.log(e.title+" : "+c.length),[Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(Me,{workitem:e},e.name)}),Object(x.jsxs)("div",{className:"task centered",children:[t,c.map((function(e){return Object(x.jsx)(Me,{workitem:e,mode:"edit"})})),Object(x.jsx)(Ke,{parentId:e.name,addNewTask:o})]}),Object(x.jsx)("div",{className:"task centered",children:r.map((function(e){return Object(x.jsx)(Me,{workitem:e,mode:"edit"})}))}),Object(x.jsx)("div",{className:"task centered",children:i.map((function(e){return Object(x.jsx)(Me,{workitem:e,mode:"edit"})}))})]}));return Object(r.useEffect)((function(){e(_e(u))}),[]),Object(x.jsxs)(y.a,{style:{maxHeight:"90vh",width:"100%"},children:[Object(x.jsx)("h4",{class:"titre",children:"Tableau Kanban"}),Object(x.jsx)("div",{className:"sprintcontainer",children:b})]})},Je=n(10),Ve={workitems:[],filtertype:[],filteruser:[],buttonsopened:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_WORKITEM":return Object(k.a)(Object(k.a)({},e),{},{workitems:t.workitems});case"ADD_WORKITEM":return console.log("ADD_WORKITEM"),Object(k.a)(Object(k.a)({},e),{},{workitems:[].concat(Object(Je.a)(e.workitems),[t.workitem])});case"UPD_WORKITEM":console.log("UPD_WORKITEM");var n=e.workitems.map((function(e){return e.name===t.workitem.name?(console.log("found!",t.workitem),t.workitem):e}));return Object(k.a)(Object(k.a)({},e),{},{workitems:n});case"DELETE_WORKITEM":var c=e.workitems.filter((function(e){return e.name!==t.name}));return Object(k.a)(Object(k.a)({},e),{},{workitems:c});case"FILTERTYPE_WORKITEM":var r=[],i=e.workitems;"allWorkitems"in e&&(i=e.allWorkitems),console.log(t.itemtype);r=e.filtertype.includes(t.itemtype)?e.filtertype.filter((function(e){return e!==t.itemtype})):[].concat(Object(Je.a)(e.filtertype),[t.itemtype]);var s=[];return r.forEach((function(e){var t=i.filter((function(t){return t.type===e}));s=s.concat(t)})),Object(k.a)(Object(k.a)({},e),{},{workitems:r.length>0?s:i,allWorkitems:i,filtertype:r});case"FILTERUSER_WORKITEM":var o=[];return o=e.filteruser.includes(t.itemuser)?e.filteruser.filter((function(e){return e!==t.itemuser})):[].concat(Object(Je.a)(e.filteruser),[t.itemuser]),Object(k.a)(Object(k.a)({},e),{},{filteruser:o});case"OPEN_BUTTON":console.log("OPEN_BUTTON");return Object(k.a)(Object(k.a)({},e),{},{buttonsopened:e.buttonsopened===t.name?"":t.name});default:return e}},qe={users:[]},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},Ye=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,n=Object(z.b)({workItem:He,user:Qe}),c=Object(z.d)(n,t(Object(z.a)(L.a)));return Object(x.jsx)(F.a,{store:c,children:Object(x.jsx)(b.a,{children:Object(x.jsx)(U,{children:Object(x.jsxs)(D.Switch,{children:[Object(x.jsx)(D.Route,{path:"/",exact:!0,component:De}),Object(x.jsx)(D.Route,{path:"/editwi/:name",exact:!0,component:ze}),Object(x.jsx)(D.Route,{path:"/newwi/:type",exact:!0,component:ze}),Object(x.jsx)(D.Route,{path:"/sprints",exact:!0,component:Ge}),Object(x.jsx)(D.Route,{path:"/notdev",exact:!0,component:Le})]})})})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};o.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(Ye,{})}),document.getElementById("root")),Xe()},30:function(e,t,n){e.exports={sidebar:"SideBar_sidebar__3pwxM",sidebarheader:"SideBar_sidebarheader__3J_8O",nav:"SideBar_nav__35RmM",short:"SideBar_short__1_AuN",shortside:"SideBar_shortside__2uasn",btn:"SideBar_btn__3QxAM",containerSettings:"SideBar_containerSettings__gu-pu"}},31:function(e,t,n){e.exports={active:"NavSection_active__2KaUU",spacebtw:"NavSection_spacebtw__24YV2",header:"NavSection_header__2b4bP",headermini:"NavSection_headermini__3GRfO",navlist:"NavSection_navlist__3d46p",itemactive:"NavSection_itemactive__2CVWs",title:"NavSection_title__oIent"}},35:function(e,t,n){e.exports={linkItem:"WorkItemsButtons_linkItem__3GNtd"}},49:function(e,t,n){e.exports={button:"Button_button__2lgkF",smallbutton:"Button_smallbutton__GT_Ns",children:"Button_children__2CTfR"}},50:function(e,t,n){e.exports={header:"Header_header__1VCKf",logo:"Header_logo__3_SJs",logomin:"Header_logomin__2VPNZ",breadcrumb:"Header_breadcrumb__Sx8WV"}},73:function(e,t,n){e.exports={page:"Layout_page__3fQYG",main:"Layout_main__1dFZc"}},74:function(e,t,n){e.exports={link:"NavItem_link__1VSzF",title:"NavItem_title__2rhIz"}},9:function(e,t,n){e.exports={table:"Workitems_table__1wyuX",frmTitle:"Workitems_frmTitle__1S7f6",frmInput:"Workitems_frmInput__BCqeQ",frmLine:"Workitems_frmLine__2O3rN"}}},[[174,1,2]]]);
//# sourceMappingURL=main.da71f8da.chunk.js.map