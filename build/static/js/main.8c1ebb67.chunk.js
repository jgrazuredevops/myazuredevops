(this.webpackJsonpdevops=this.webpackJsonpdevops||[]).push([[0],{111:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){e.exports={App:"App_App__16ZpL",Appheader:"App_Appheader__2tQho",Applink:"App_Applink__2yhF-"}},14:function(e,t,n){e.exports={grid:"WorkItemsTable_grid__1yx0O",header:"WorkItemsTable_header__1VEMn",titleicon:"WorkItemsTable_titleicon__2ie71",assignto:"WorkItemsTable_assignto__3T5bo",avatar:"WorkItemsTable_avatar__3_wkb",bulle:"WorkItemsTable_bulle__2G2AD",cellcenter:"WorkItemsTable_cellcenter__2URhq",tag:"WorkItemsTable_tag__3SnHe",margegauche:"WorkItemsTable_margegauche__B9G_I"}},172:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"iconplus",(function(){return Q})),n.d(r,"iconarrow",(function(){return X})),n.d(r,"icontournevis",(function(){return Y})),n.d(r,"iconimport",(function(){return Z})),n.d(r,"iconbug",(function(){return $})),n.d(r,"iconepic",(function(){return ee})),n.d(r,"iconfeature",(function(){return te})),n.d(r,"iconproductitem",(function(){return ne})),n.d(r,"iconsupport",(function(){return re})),n.d(r,"icontask",(function(){return ce})),n.d(r,"iconsettings",(function(){return ie})),n.d(r,"iconfilter",(function(){return se})),n.d(r,"iconbigscreen",(function(){return ae})),n.d(r,"iconcheckboxempty",(function(){return oe})),n.d(r,"iconcheckboxfull",(function(){return le}));var c=n(2),i=n.n(c),s=n(54),a=n.n(s),o=(n(121),n(122),n(11)),l=n(72),d=n.n(l),u=n(37),j=n.n(u),b=n(22),m=n(73),p=n.n(m),O=n(1),h=function(e){return Object(O.jsxs)(b.b,{className:p.a.link,to:e.to,children:[e.icon," ",Object(O.jsx)("span",{className:p.a.title,children:e.children})]})},x=n(29),f=n.n(x),v=function(e){var t=null,n=[],r=e.title;return e.open&&(n.push(f.a.active),r=Object(O.jsx)("strong",{children:r}),t=e.children.map((function(e,t){return Object(O.jsx)("li",{className:0===t?f.a.itemactive:null,children:e})})),t=Object(O.jsx)("ul",{className:f.a.navlist,children:t})),e.shortsidebar&&n.push(f.a.spacebtw),console.log(n),Object(O.jsxs)("div",{className:n.join(" "),children:[Object(O.jsxs)("div",{className:e.shortsidebar?f.a.headermini:f.a.header,onClick:function(){return e.actived(e.title)},children:[e.icon," ",e.shortsidebar?null:Object(O.jsx)("span",{className:f.a.title,children:r})]}),e.shortsidebar?null:t]})},g=n(13),k=n(4),_=n(36),y=(n(71),Object(O.jsx)(g.e,{color:"blue",size:"2em",style:{verticalAlign:"middle"}})),w=Object(O.jsx)(g.d,{color:"green",size:"2em",style:{verticalAlign:"middle"}}),N=Object(O.jsx)(g.j,{color:"orange",size:"2em",style:{verticalAlign:"middle"}}),I=Object(O.jsx)(g.c,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),T=Object(O.jsx)(g.f,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),E=Object(O.jsx)(g.g,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),S=Object(O.jsx)(g.h,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}}),A=Object(O.jsx)(g.i,{color:"white",size:"1.25em",style:{verticalAlign:"middle",fontWeight:"100"}}),B=function(e){var t=e.bigSidebar,n=Object(c.useState)("Overview"),r=Object(o.a)(n,2),i=r[0],s=r[1],a=function(e){return s(e)},l=Object(O.jsx)(g.a,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),d=null;return t||(l=Object(O.jsx)(g.b,{color:"violet",size:"2em",style:{verticalAlign:"middle"}}),d=j.a.short),Object(O.jsxs)(_.a,{style:{maxHeight:600},className:"".concat(j.a.sidebar," ").concat(d),children:[Object(O.jsxs)("div",{className:j.a.sidebarheader,children:[y,t&&Object(O.jsx)("span",{style:{margin:"0 .5rem"},children:"Magistere"})]}),Object(O.jsxs)("nav",{className:j.a.nav,style:t?{"overflow-y":"hidden"}:null,children:[Object(O.jsxs)(v,{shortsidebar:!t,icon:y,title:"Overview",open:"Overview"===i,actived:a,children:[Object(O.jsx)(h,{icon:T,to:"/",children:"Summary"}),Object(O.jsx)(h,{icon:S,to:"/",children:"Dashboards"}),Object(O.jsx)(h,{icon:E,to:"/backlog",children:"Wiki"})]}),Object(O.jsxs)(v,{shortsidebar:!t,icon:w,title:"Boards",open:"Boards"===i,actived:a,children:[Object(O.jsx)(h,{icon:T,to:"/",children:"Work items"}),Object(O.jsx)(h,{icon:E,to:"/",children:"Boards"}),Object(O.jsx)(h,{icon:A,to:"/backlog",children:"Backlogs"}),Object(O.jsx)(h,{icon:T,to:"/sprints",children:"Sprints"}),Object(O.jsx)(h,{icon:E,to:"/",children:"Queries"}),Object(O.jsx)(h,{icon:S,to:"/",children:"Estimate"})]}),Object(O.jsxs)(v,{shortsidebar:!t,icon:N,title:"Repos",open:"Repos"===i,actived:a,children:[Object(O.jsx)(h,{icon:S,to:"/",children:"Files"}),Object(O.jsx)(h,{icon:A,to:"/",children:"Commits"}),Object(O.jsx)(h,{icon:E,to:"/backlog",children:"Pushes"}),Object(O.jsx)(h,{icon:A,to:"/sprints",children:"Branches"}),Object(O.jsx)(h,{icon:S,to:"/",children:"Tags"}),Object(O.jsx)(h,{icon:E,to:"/",children:"Pull requests"})]}),Object(O.jsxs)(v,{shortsidebar:!t,icon:I,title:"Pipelines",open:"Pipelines"===i,actived:a,children:[Object(O.jsx)(h,{icon:T,to:"/",children:"Pipelines"}),Object(O.jsx)(h,{icon:S,to:"/",children:"Environments"}),Object(O.jsx)(h,{icon:E,to:"/backlog",children:"Releases"}),Object(O.jsx)(h,{icon:A,to:"/sprints",children:"Library"}),Object(O.jsx)(h,{icon:S,to:"/",children:"Task groups"}),Object(O.jsx)(h,{icon:E,to:"/",children:"Deployment groups"})]})]}),Object(O.jsx)("div",{className:j.a.btn,onClick:e.toggleMenu,children:l}),Object(O.jsx)("div",{style:{width:"100px",height:"120px",backgroundColor:"cyan"}})]})},W=n(48),R=n.n(W),z=function(e){var t=R.a.logomin;e.bigSidebar&&(t=R.a.logo);var n=Object(O.jsx)(g.f,{color:"white",size:"1.25em",style:{verticalAlign:"middle"}});return Object(O.jsxs)("header",{className:R.a.header,children:[Object(O.jsx)("h3",{className:t,children:e.bigSidebar?"Azure Devops":n}),Object(O.jsxs)("ul",{className:R.a.breadcrumb,children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"reseau-canope"})}),Object(O.jsx)("li",{children:"/"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Magistere"})}),Object(O.jsx)("li",{children:"/"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Boards"})}),Object(O.jsx)("li",{children:"/"}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Work items"})})]})]})},C=function(e){var t=Object(c.useState)(!0),n=Object(o.a)(t,2),r=n[0],i=n[1];return[Object(O.jsx)(z,{bigSidebar:r}),Object(O.jsxs)("div",{className:d.a.page,style:{border:"0px solid orangered",flexGrow:1,overflow:"hidden"},children:[Object(O.jsx)(B,{bigSidebar:r,toggleMenu:function(e){return i((function(e){return!e}))}}),Object(O.jsx)("main",{className:d.a.main,children:Object(O.jsx)(_.a,{style:{maxHeight:500},children:e.children})})]}),Object(O.jsx)("div",{style:{backgroundColor:"red",height:"40px"},children:Object(O.jsx)("h2",{children:"Ceci est le footer de test "})})]},F=n(6),P=n(10),D=n(49),M=n(116),U=n(56),K=n.n(U),L=n(14),V=n.n(L),J=function(e){switch(e){case"committed":case"in progress":return"#007acb";case"pending":return"#f48b1f";default:return"#b1b1b1"}},G=function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()})).join("")},H=function(e){var t=[{id:3,surname:"Stefanie Toute",email:"stefietoute@yahoo.com",color:"#5c2893"},{id:1,surname:"John Doe",email:"johndoe@free.fr",color:"#001e51"},{id:2,surname:"Paul Boo",email:"paul.boo@azure.com",color:"#027d00"}].filter((function(t){return t.id===+e}));return 1===t.length?t[0]:{}},q=n(7),Q=Object(O.jsx)(q.n,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),X=Object(O.jsx)(q.b,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),Y=Object(O.jsx)(q.j,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),Z=Object(O.jsx)(q.k,{color:"#0075d9",size:"1.5em",style:{verticalAlign:"middle"}}),$=Object(O.jsx)(q.k,{color:"#B12A3B",size:"1em",style:{verticalAlign:"middle"}}),ee=Object(O.jsx)(q.f,{color:"#FF7B00",size:"1em",style:{verticalAlign:"middle"}}),te=Object(O.jsx)(q.p,{color:"#773B93",size:"1em",style:{verticalAlign:"middle"}}),ne=Object(O.jsx)(q.o,{color:"#009CCC",size:"1em",style:{verticalAlign:"middle"}}),re=Object(O.jsx)(q.m,{color:"#51399F",size:"1em",style:{verticalAlign:"middle"}}),ce=Object(O.jsx)(q.l,{color:"#F2CB1D",size:"1em",style:{verticalAlign:"middle"}}),ie=Object(O.jsx)(q.i,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),se=Object(O.jsx)(q.h,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),ae=Object(O.jsx)(q.c,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle"}}),oe=Object(O.jsx)(q.a,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle",marginRight:"14px"}}),le=Object(O.jsx)(q.d,{color:"#0075d9",size:"1.25em",style:{verticalAlign:"middle",marginRight:"14px"}}),de=n(3),ue=n.n(de),je=n(9),be=function(e){return{type:"INIT_WORKITEM",workitems:e}},me=function(e){return{type:"ADD_WORKITEM",workitem:e}},pe=function(e){return{type:"UPD_WORKITEM",workitem:e}},Oe=function(e){return{type:"DELETE_WORKITEM",name:e}},he=function(){return function(){var e=Object(je.a)(ue.a.mark((function e(t){var n,r,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem.json",{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log("workitemsjson!!!",r),(c=Object.keys(r).map((function(e){return Object(k.a)(Object(k.a)({},r[e]),{},{name:e})}))).sort((function(e,t){return t.updatedAt-e.updatedAt})),t(be(c)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("erreur="+e.t0),t(be([]));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},xe=n(114),fe=Object(P.b)(null,(function(e){return{onWorkItemDeleted:function(t){return e(Oe(t))}}}))((function(e){var t=Object(P.c)();Object(c.useEffect)((function(){console.log("useEffect 1"),t(he())}),[]);var n=Object(P.d)((function(e){return e.workItem.workitems})),i=function(e){console.log("to delete:"+e),t(function(e){return function(){var t=Object(je.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("ready ?"),t.next=4,fetch("https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem/".concat(e,".json"),{method:"DELETE"});case 4:200===t.sent.status&&n(Oe(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("erreur="+t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};console.log("EEEE",n);q.g;var s=n.map((function(t){var n=null;t.comments&&t.comments.length>0&&(n=[Object(O.jsx)(q.g,{}),Object(O.jsx)("span",{className:V.a.margegauche,children:t.comments.length},t.comments.length)]);var c="icon"+t.type;return[Object(O.jsx)("div",{children:t.id}),Object(O.jsxs)("div",{className:V.a.titleicon,children:[r[c]," ",Object(O.jsx)(xe.NavLink,{to:"editwi/".concat(t.name),children:t.title})," ",Object(O.jsx)("span",{onClick:function(){return i(t.name)},children:"X"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:V.a.avatar,style:{backgroundColor:t.assignto?t.assignto.color:"#FFF"},children:t.assignto&&t.assignto.surname&&G(t.assignto.surname)}),t.assignto&&t.assignto.surname]}),Object(O.jsxs)("div",{className:V.a.cellcenter,children:[Object(O.jsx)("div",{className:V.a.bulle,style:{backgroundColor:J(t.state)}}),t.state&&t.state.charAt(0).toUpperCase()+t.state.slice(1)]}),Object(O.jsx)("div",{children:t.tags&&t.tags.map((function(e,t){return Object(O.jsx)("span",{className:V.a.tag,children:e},t)}))}),Object(O.jsx)("div",{className:V.a.cellcenter,onClick:function(){return e.onWorkItemDeleted(t.id)},children:n})]}));return Object(O.jsx)(_.a,{style:{maxHeight:250,width:"100%"},children:Object(O.jsxs)("div",{className:V.a.grid,children:[Object(O.jsx)("div",{className:V.a.header,children:"ID"}),Object(O.jsx)("div",{className:V.a.header,children:"Title"}),Object(O.jsx)("div",{className:V.a.header,children:"Assign to"}),Object(O.jsx)("div",{className:V.a.header,children:"State"}),Object(O.jsx)("div",{className:V.a.header,children:"Tags"}),Object(O.jsxs)("div",{className:V.a.header,children:["Comments =",n.length,"="]}),s]})})})),ve=n(26),ge=n(47),ke=n.n(ge),_e=Object(P.b)((function(e){return{isButtonOpened:e.workItem.buttonsopened}}),(function(e){return{onButtonOpened:function(t){return e(function(e){return{type:"OPEN_BUTTON",name:e}}(t))}}}))((function(e){var t=null,n=null;return e.isButtonOpened.includes(e.name)&&(t=Object(O.jsx)("div",{className:ke.a.children,children:e.children})),e.label&&(n=[Object(O.jsxs)("span",{children:[e.label,e.isButtonOpened.includes(e.name)]}),e.children?Object(O.jsx)(q.e,{color:"grey",size:"1.25em",style:{verticalAlign:"middle"}}):null,t]),Object(O.jsxs)("div",{className:"small"===e.type?ke.a.smallbutton:ke.a.button,onClick:e.onClickEvent?function(){return e.onClickEvent((function(e){return!e}))}:function(){return e.onButtonOpened(e.name)},children:[e.icon?e.icon:null,n]})})),ye=function(e){return Object(O.jsx)("div",{style:{display:"flex",width:"100%",height:"40px",backgroundColor:"#3b3a39",borderRadius:"5px",margin:".75rem .5rem"},children:e.children})},we=Object(P.b)((function(e){return{filtertypes:e.workItem.filtertype,filterusers:e.workItem.filteruser}}),(function(e){return{onWorkItemAdded:function(t){return e(me(t))},onWorkItemFilterType:function(t){return e(function(e){return{type:"FILTERTYPE_WORKITEM",itemtype:e}}(t))},onWorkItemFilterUser:function(t){return e(function(e){return{type:"FILTERUSER_WORKITEM",itemuser:e}}(t))}}}))((function(e){Object(P.c)();var t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],s=n[1],a=new Map;a.set("bug","Bug"),a.set("epic","Epic"),a.set("feature","Feature"),a.set("productitem","Product Backlog Item"),a.set("support","Support"),a.set("task","Task");var l,d=[],u=Object(ve.a)(a.keys());try{var j=function(){var t=l.value;d.push(Object(O.jsxs)("div",{onClick:function(n){n.stopPropagation(),e.onWorkItemFilterType(t)},children:[e.filtertypes.includes(t)?le:oe,"  ",r["icon".concat(t)]," ",Object(O.jsx)("span",{children:a.get(t)})]}))};for(u.s();!(l=u.n()).done;)j()}catch(m){u.e(m)}finally{u.f()}return[Object(O.jsxs)("div",{style:{display:"flex",zIndex:100,justifyContent:"space-between",width:"100%",paddingBottom:"10px",borderBottom:"1px solid #313130"},children:[Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)(_e,{icon:Q,label:"New Work Item",name:"btnNewWorkItem",children:[Object(O.jsxs)(b.b,{to:"newwi/bug",children:[$," ",Object(O.jsx)("span",{children:"Bug"})]}),Object(O.jsxs)(b.b,{to:"newwi/epic",children:[ee," ",Object(O.jsx)("span",{children:"Epic"})]}),Object(O.jsxs)(b.b,{to:"newwi/feature",children:[te," ",Object(O.jsx)("span",{children:"Feature"})]}),Object(O.jsxs)(b.b,{to:"newwi/productitem",children:[ne," ",Object(O.jsx)("span",{children:"Product Backlog Item"})]}),Object(O.jsxs)(b.b,{to:"newwi/support",children:[re," ",Object(O.jsx)("span",{children:"Support"})]}),Object(O.jsxs)(b.b,{to:"newwi/task",children:[ce," ",Object(O.jsx)("span",{children:"Task"})]})]}),Object(O.jsx)(_e,{icon:X,label:"Open in Queries"}),Object(O.jsx)(_e,{icon:Y,label:"Column Options"}),Object(O.jsx)(_e,{icon:Z,label:"Import Work Items"})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(_e,{type:"small",icon:ie}),Object(O.jsx)(_e,{type:"small",icon:se,onClickEvent:s}),Object(O.jsx)(_e,{type:"small",icon:ae})]})]}),i?Object(O.jsxs)(ye,{children:[Object(O.jsx)(_e,{label:"Types",name:"btnFilterType",children:d}),Object(O.jsx)(_e,{label:"Assign To",name:"btnFilterAssignTo",children:[{id:2,surname:"Paul Boo",color:"#027d00"},{id:3,surname:"John Fer",color:"#001e51"}].map((function(t){return Object(O.jsxs)("div",{onClick:function(n){n.stopPropagation(),e.onWorkItemFilterUser(t.id)},children:[e.filterusers.includes(t.id)?le:oe," ",$," ",Object(O.jsx)("span",{children:t.surname})]})}))}),Object(O.jsx)(_e,{label:"States",name:"btnFilterState"}),Object(O.jsx)(_e,{label:"Tags",name:"btnFilterTag"})]}):null]})),Ne=function(e){return Object(O.jsxs)("div",{className:K.a.table,children:[Object(O.jsx)("h4",{children:"Liste des WorkItems"}),Object(O.jsx)(we,{}),Object(O.jsx)(fe,{})]})},Ie=n(115),Te=function(e){var t,n=Object(Ie.a)({mode:"all",reValidateMode:"onBlur"}),r=n.register,i=n.handleSubmit,s=(n.watch,n.formState.errors),a=n.setValue,l=Object(F.useParams)(),d=l.name,u=l.type,j=function(){var e=Object(je.a)(ue.a.mark((function e(t){var n,r,c,i,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log("id="+d),e.prev=2,n={title:t.title,type:t.type,description:t.description,assignto:{id:1,surname:"John Doe",email:"johndoe@free.fr",color:"#001e51"},state:t.state,tags:[],comments:[],updatedAt:Date.now()},r="https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem/".concat(d,".json"),c={method:"PUT",body:JSON.stringify(n)},u&&(r="https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem.json",c={method:"POST",body:JSON.stringify(n)}),e.next=9,fetch(r,c);case 9:return i=e.sent,console.log("rrr"),e.next=13,i.json();case 13:s=e.sent,console.log("wkujson=",s),_(!0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log("erreur="+e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),b={title:"",description:"",type:""},m=Object(c.useState)(b),p=Object(o.a)(m,2),h=p[0],x=p[1],f=Object(c.useState)(!1),v=Object(o.a)(f,2),g=v[0],_=v[1];return Object(c.useEffect)(Object(je.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u||!["bug","epic","feature","productitem","support","task"].includes(u)){e.next=5;break}a("type",u),x(b),e.next=24;break;case 5:return e.prev=5,console.log("id="+d),e.next=9,fetch("https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem/".concat(d,".json"),{method:"GET"});case 9:return t=e.sent,e.next=12,t.json();case 12:h=e.sent,a("title",h.title),a("type",h.type),a("state",h.state),console.log("workitemjson!!!",h),x(h),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(5),console.log("erreur="+e.t0),x({title:"error loading",type:""});case 24:case"end":return e.stop()}}),e,null,[[5,20]])}))),[]),g&&(t=Object(O.jsx)(F.Redirect,{to:"/"})),Object(O.jsxs)("div",{className:K.a.table,style:{display:"flex",flexDirection:"column"},children:[t,Object(O.jsxs)("h4",{children:[0===h.title.length?"Cr\xe9ation":"Edition"," d'un WorkItem ",d]}),Object(O.jsxs)("form",{onSubmit:i(j),children:[Object(O.jsxs)("div",{children:["Titre: ",Object(O.jsx)("input",Object(k.a)({defaultValue:h.title},r("title",{required:!0})))]}),Object(O.jsxs)("div",{children:["Description: ",Object(O.jsx)("input",Object(k.a)({defaultValue:h.description},r("description",{required:!1})))]}),Object(O.jsxs)("div",{children:["Type:",Object(O.jsxs)("select",Object(k.a)(Object(k.a)({},r("type")),{},{children:[Object(O.jsx)("option",{value:"bug",children:"bug"}),Object(O.jsx)("option",{value:"epic",children:"epic"}),Object(O.jsx)("option",{value:"feature",children:"feature"}),Object(O.jsx)("option",{value:"productitem",children:"productitem"}),Object(O.jsx)("option",{value:"support",children:"support"}),Object(O.jsx)("option",{value:"task",children:"task"})]}))]}),Object(O.jsxs)("div",{children:["State:",Object(O.jsxs)("select",Object(k.a)(Object(k.a)({},r("state")),{},{children:[Object(O.jsx)("option",{value:"investigation",children:"investigation"}),Object(O.jsx)("option",{value:"new",children:"new"}),Object(O.jsx)("option",{value:"pending",children:"pending"})]}))]}),s.title&&Object(O.jsx)("span",{children:"This field is required"}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{type:"submit"})})]})]})},Ee=function(e){return Object(O.jsx)("div",{children:"Backlog !!!"})},Se=(n(111),function(e){var t=e.workitem,n=e.mode,r=e.addNewTask,i=t.name,s=t.title,a=t.type,o=t.state,l=t.assignto,d=void 0===l?{}:l,u=t.parentId,j=["box","box-".concat(a)].join(" "),b=(Object(P.d)((function(e){return e.workItem.workitems})),Object(P.c)()),m=0;"id"in d&&(m=d.id);var p=Object(c.useRef)(s),h=Object(c.useRef)(m),x=Object(c.useRef)(o),f=function(){"new"===n?(r(""),b(function(e){var t=e.title,n=e.assignto,r=e.state,c=e.type,i=e.parentId;return function(){var e=Object(je.a)(ue.a.mark((function e(s){var a,o,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("ready ?"),a={title:t,type:c,assignto:n,state:r,tags:[],comments:[],parentId:i},e.next=5,fetch("https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem.json",{method:"POST",body:JSON.stringify(a)});case 5:return o=e.sent,e.next=8,o.json();case 8:l=e.sent,console.log(l.name),a.name=l.name,s(me(a)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("erreur="+e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()}({title:p.current,parentId:u,assignto:H(h.current),state:x.current,type:"task"}))):b(function(e){var t=e.name,n=e.title,r=e.assignto,c=e.state,i=e.type,s=e.parentId;return function(){var e=Object(je.a)(ue.a.mark((function e(a){var o,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update ?"),o={name:t,title:n,type:i,assignto:r,state:c,tags:[],comments:[],parentId:s},e.next=5,fetch("https://azuredevops-a0860-default-rtdb.europe-west1.firebasedatabase.app/workitem/".concat(t,".json"),{method:"PUT",body:JSON.stringify(o)});case 5:return l=e.sent,e.next=8,l.json();case 8:e.sent,a(pe(o)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("erreur="+e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}({name:i,title:p.current,parentId:u,assignto:H(h.current),state:x.current,type:"task"}))},v=s,g=o,k=d&&d.surname?d.surname:"";return"new"!==n&&"edit"!==n||(v=Object(O.jsx)("input",{onBlur:function(e){console.log("change title!",e.target.value),p.current=e.target.value,f()},type:"text",name:"title",placeholder:"Please set a title",className:"input-box",defaultValue:"edit"===n?s:"new"}),g=Object(O.jsxs)("select",{value:o,onChange:function(e){console.log("change state!",e.target.value),x.current=e.target.value,f()},className:"select-box",name:"state",children:[Object(O.jsx)("option",{value:"to do",children:"To Do"}),Object(O.jsx)("option",{value:"in progress",children:"In Progress"}),Object(O.jsx)("option",{value:"done",children:"Done"})]}),k=Object(O.jsxs)("select",{value:m,onChange:function(e){console.log("change user!",e.target.value),h.current=e.target.value,f()},className:"select-box",name:"assignTo",children:[Object(O.jsx)("option",{value:""}),Object(O.jsx)("option",{value:"3",children:"Stefanie Toute"}),Object(O.jsx)("option",{value:"1",children:"John Doe"}),Object(O.jsx)("option",{value:"2",children:"Paul Boo"})]})),Object(c.useEffect)((function(){console.log("Box au 1er chargement")}),[]),Object(O.jsxs)("div",{className:j,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{})," ",v]}),Object(O.jsxs)("div",{className:"user_container",children:[Object(O.jsx)("div",{className:"avatar",style:{backgroundColor:d?d.color:"#FFF"},children:d&&d.surname&&G(d.surname)}),k]}),Object(O.jsxs)("div",{className:"state_container",children:["State",Object(O.jsxs)("div",{className:"bulle_container",children:[Object(O.jsx)("div",{className:"bulle",style:{backgroundColor:J(o)}}),g]})]})]})}),Ae=function(e){var t=e.parentId,n=e.addNewTask;return Object(O.jsx)("button",{className:"btn-add-task",onClick:function(){return n(t)},children:"+"})},Be=function(){var e=Object(P.c)(),t=Object(P.d)((function(e){return e.workItem.workitems})),n={title:"",type:"task",assignto:{surname:""},state:"to do"},r=Object(c.useState)(""),i=Object(o.a)(r,2),s=i[0],a=i[1];console.log(s);var l=t.filter((function(e){return!!e.parentId})),d=t.map((function(e){if(e.parentId)return[];var t=null;s===e.name&&(t=Object(O.jsx)(Se,{workitem:Object(k.a)(Object(k.a)({},n),{},{parentId:e.name}),mode:"new",addNewTask:a}));var r=l.filter((function(t){return t.parentId===e.name&&"to do"==t.state})),c=l.filter((function(t){return t.parentId===e.name&&"in progress"==t.state})),i=l.filter((function(t){return t.parentId===e.name&&"done"==t.state}));return console.log(e.title+" : "+r.length),[Object(O.jsx)("div",{className:"centered",children:Object(O.jsx)(Se,{workitem:e},e.name)}),Object(O.jsxs)("div",{className:"task centered",children:[t,r.map((function(e){return Object(O.jsx)(Se,{workitem:e,mode:"edit"})})),Object(O.jsx)(Ae,{parentId:e.name,addNewTask:a})]}),Object(O.jsx)("div",{className:"task centered",children:c.map((function(e){return Object(O.jsx)(Se,{workitem:e,mode:"edit"})}))}),Object(O.jsx)("div",{className:"task centered",children:i.map((function(e){return Object(O.jsx)(Se,{workitem:e,mode:"edit"})}))})]}));return Object(c.useEffect)((function(){e(he())}),[]),Object(O.jsx)("div",{className:"sprintcontainer",children:d})},We=n(8),Re={workitems:[],filtertype:[],filteruser:[],buttonsopened:[]},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_WORKITEM":return Object(k.a)(Object(k.a)({},e),{},{workitems:t.workitems});case"ADD_WORKITEM":return console.log("ADD_WORKITEM"),Object(k.a)(Object(k.a)({},e),{},{workitems:[].concat(Object(We.a)(e.workitems),[t.workitem])});case"UPD_WORKITEM":console.log("UPD_WORKITEM");var n=e.workitems.map((function(e){return console.log("je compare:",e.name+" et "+t.workitem.name),e.name===t.workitem.name?(console.log("found!",t.workitem),t.workitem):e}));return Object(k.a)(Object(k.a)({},e),{},{workitems:n});case"DELETE_WORKITEM":var r=e.workitems.filter((function(e){return e.name!==t.name}));return Object(k.a)(Object(k.a)({},e),{},{workitems:r});case"FILTERTYPE_WORKITEM":var c=[];return c=e.filtertype.includes(t.itemtype)?e.filtertype.filter((function(e){return e!==t.itemtype})):[].concat(Object(We.a)(e.filtertype),[t.itemtype]),Object(k.a)(Object(k.a)({},e),{},{filtertype:c});case"FILTERUSER_WORKITEM":var i=[];return i=e.filteruser.includes(t.itemuser)?e.filteruser.filter((function(e){return e!==t.itemuser})):[].concat(Object(We.a)(e.filteruser),[t.itemuser]),console.log(i),Object(k.a)(Object(k.a)({},e),{},{filteruser:i});case"OPEN_BUTTON":console.log("OPEN_BUTTON");var s="";return console.log(s),Object(k.a)(Object(k.a)({},e),{},{buttonsopened:e.buttonsopened===t.name?"":t.name});default:return e}},Ce={users:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;return t.type,e},Pe=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,n=Object(D.b)({workItem:ze,user:Fe}),r=Object(D.d)(n,t(Object(D.a)(M.a)));return Object(O.jsx)(P.a,{store:r,children:Object(O.jsx)(b.a,{children:Object(O.jsx)(C,{children:Object(O.jsxs)(F.Switch,{children:[Object(O.jsx)(F.Route,{path:"/",exact:!0,component:Ne}),Object(O.jsx)(F.Route,{path:"/editwi/:name",exact:!0,component:Te}),Object(O.jsx)(F.Route,{path:"/newwi/:type",exact:!0,component:Te}),Object(O.jsx)(F.Route,{path:"/backlog",component:Ee}),Object(O.jsx)(F.Route,{path:"/sprints",exact:!0,component:Be})]})})})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(Pe,{})}),document.getElementById("root")),De()},29:function(e,t,n){e.exports={active:"NavSection_active__2KaUU",spacebtw:"NavSection_spacebtw__24YV2",header:"NavSection_header__2b4bP",headermini:"NavSection_headermini__3GRfO",navlist:"NavSection_navlist__3d46p",itemactive:"NavSection_itemactive__2CVWs",title:"NavSection_title__oIent"}},37:function(e,t,n){e.exports={sidebar:"SideBar_sidebar__3pwxM",sidebarheader:"SideBar_sidebarheader__3J_8O",nav:"SideBar_nav__35RmM",short:"SideBar_short__1_AuN",shortside:"SideBar_shortside__2uasn",btn:"SideBar_btn__3QxAM"}},47:function(e,t,n){e.exports={button:"Button_button__2lgkF",smallbutton:"Button_smallbutton__GT_Ns",children:"Button_children__2CTfR"}},48:function(e,t,n){e.exports={header:"Header_header__1VCKf",logo:"Header_logo__3_SJs",logomin:"Header_logomin__2VPNZ",breadcrumb:"Header_breadcrumb__Sx8WV"}},56:function(e,t,n){e.exports={table:"Workitems_table__1wyuX"}},72:function(e,t,n){e.exports={page:"Layout_page__3fQYG",main:"Layout_main__1dFZc"}},73:function(e,t,n){e.exports={link:"NavItem_link__1VSzF",title:"NavItem_title__2rhIz"}}},[[172,1,2]]]);
//# sourceMappingURL=main.8c1ebb67.chunk.js.map